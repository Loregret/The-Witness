{
	"name": "#Cursor",
	"events": [
		{
			"eventType": "group",
			"disabled": false,
			"title": "cursor - start",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 579395561514846
						}
					],
					"actions": [
						{
							"id": "set-cursor-style",
							"objectClass": "Mouse",
							"sid": 570232647348054,
							"parameters": {
								"cursor-style": "none"
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 112427808755603,
							"parameters": {
								"object-to-create": "cursor",
								"layer": "\"cursor\"",
								"x": "Mouse.X",
								"y": "Mouse.Y",
								"create-hierarchy": false
							}
						}
					],
					"sid": 630612027764701,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 303680774716229,
									"parameters": {
										"variable": "settings_cursor_show_dialog_name"
									}
								}
							],
							"actions": [
								{
									"callFunction": "cursor_create_dialogname_sprfont",
									"sid": 201227899749812
								}
							],
							"sid": 714859650932520
						}
					]
				}
			],
			"sid": 774697485129511
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "cursor - main",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 734810384102137
						}
					],
					"actions": [],
					"sid": 199625397984638,
					"children": [
						{
							"eventType": "variable",
							"name": "mouse_sensivity",
							"type": "number",
							"initialValue": "100",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 648425701185269
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "cursor",
									"sid": 193229285716867,
									"parameters": {
										"x": "lerp(Self.X, Mouse.X(\"cursor\"), mouse_sensivity * dt)",
										"y": "lerp(Self.Y, Mouse.Y(\"cursor\"), mouse_sensivity * dt)"
									}
								}
							],
							"sid": 494502482262981,
							"disabled": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 489925824028510,
									"parameters": {
										"variable": "settings_cursor_show"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "cursor",
									"sid": 910962800416100,
									"parameters": {
										"x": "Mouse.X(\"cursor\")",
										"y": "Mouse.Y(\"cursor\")"
									}
								}
							],
							"sid": 477133211385536,
							"children": [
								{
									"eventType": "comment",
									"text": "dialog mouse over trigger"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 750905172673383,
											"parameters": {
												"variable": "settings_cursor_show_dialog_name"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 125825890390120,
											"parameters": {
												"variable": "curWeapon",
												"comparison": 0,
												"value": "\"\""
											}
										},
										{
											"id": "every-x-seconds",
											"objectClass": "System",
											"sid": 389507934671941,
											"parameters": {
												"interval-seconds": "dt"
											}
										}
									],
									"actions": [
										{
											"id": "set-position",
											"objectClass": "cursorhint",
											"sid": 190566140556758,
											"parameters": {
												"x": "cursor.X",
												"y": "cursor.Y + 16"
											}
										}
									],
									"sid": 449393954900999,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "cursor-is-over-object",
													"objectClass": "Mouse",
													"sid": 112325223396441,
													"parameters": {
														"object": "dialog_trigger"
													}
												},
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 151690234047230,
													"parameters": {
														"first-value": "Functions.dialogic_is_dialog_playing(dialog_trigger.DialogName, 0, 0)",
														"comparison": 0,
														"second-value": "0"
													}
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "dialog_trigger",
													"sid": 617746693804610,
													"parameters": {
														"instance-variable": "auto_start"
													},
													"isInverted": true
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "dialog_trigger",
													"sid": 657841319354946,
													"parameters": {
														"instance-variable": "active"
													}
												},
												{
													"id": "has-los-to-object",
													"objectClass": "Player",
													"sid": 481721511573513,
													"behaviorType": "LineOfSight",
													"parameters": {
														"object": "dialog_trigger",
														"image-point": "0"
													}
												}
											],
											"actions": [],
											"sid": 410752735508005,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "trigger-once-while-true",
															"objectClass": "System",
															"sid": 635479555957690
														},
														{
															"id": "compare-text",
															"objectClass": "cursorhint",
															"sid": 729853926988103,
															"parameters": {
																"text-to-compare": "\"\"",
																"case-sensitivity": "ignore-case"
															}
														}
													],
													"actions": [],
													"sid": 480709463573160,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "for-each",
																	"objectClass": "JSON",
																	"sid": 781073277581321,
																	"parameters": {
																		"path": "dialog_trigger.SceneName&\".\""
																	}
																}
															],
															"actions": [],
															"sid": 636659771929123,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-value",
																			"objectClass": "JSON",
																			"sid": 357289779077885,
																			"parameters": {
																				"path": "dialog_trigger.SceneName&\".\"&JSON.CurrentKey&\".id\"",
																				"cmp": 0,
																				"value": "dialog_trigger.DialogName"
																			}
																		}
																	],
																	"actions": [],
																	"sid": 432951971427659,
																	"children": [
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "compare-value",
																					"objectClass": "JSON",
																					"sid": 616348744335063,
																					"parameters": {
																						"path": "dialog_trigger.SceneName&\".\"&JSON.CurrentKey&\".name\"",
																						"cmp": 1,
																						"value": "0"
																					}
																				}
																			],
																			"actions": [
																				{
																					"id": "set-text",
																					"objectClass": "cursorhint",
																					"sid": 545424436207951,
																					"parameters": {
																						"text": "JSON.Get(dialog_trigger.SceneName&\".\"& JSON.CurrentKey &\".name\")"
																					}
																				},
																				{
																					"id": "set-visible",
																					"objectClass": "cursorhint",
																					"sid": 861826232498898,
																					"parameters": {
																						"visibility": "visible"
																					}
																				}
																			],
																			"sid": 153554567077885
																		},
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "else",
																					"objectClass": "System",
																					"sid": 638893068637757
																				}
																			],
																			"actions": [
																				{
																					"id": "set-text",
																					"objectClass": "cursorhint",
																					"sid": 550854044152088,
																					"parameters": {
																						"text": "\"*Изучить*\""
																					}
																				},
																				{
																					"id": "set-visible",
																					"objectClass": "cursorhint",
																					"sid": 790646786681971,
																					"parameters": {
																						"visibility": "visible"
																					}
																				}
																			],
																			"sid": 396909865492133
																		}
																	]
																}
															]
														}
													]
												},
												{
													"eventType": "comment",
													"text": "color"
												},
												{
													"eventType": "block",
													"conditions": [],
													"actions": [],
													"sid": 534605812961213,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-overlapping-another-object",
																	"objectClass": "Player",
																	"sid": 328692119253295,
																	"parameters": {
																		"object": "dialog_trigger"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-default-color",
																	"objectClass": "cursorhint",
																	"sid": 506697192604923,
																	"parameters": {
																		"color": "rgbEx(93, 93, 93)"
																	}
																}
															],
															"sid": 832940116164388
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 151178166185660
																}
															],
															"actions": [
																{
																	"id": "set-default-color",
																	"objectClass": "cursorhint",
																	"sid": 344386062717201,
																	"parameters": {
																		"color": "rgbEx(36, 36, 36)"
																	}
																}
															],
															"sid": 210985187723331
														}
													]
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 584369205529062
												},
												{
													"id": "is-visible",
													"objectClass": "cursorhint",
													"sid": 131288320546023
												}
											],
											"actions": [
												{
													"callFunction": "cursor_clear_hint",
													"sid": 428784495728740
												}
											],
											"sid": 442737609603868
										}
									]
								}
							]
						}
					]
				}
			],
			"sid": 371988161534689
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "cursor - functions",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "cursor_clear_hint",
					"functionDescription": "",
					"functionCategory": "#cursor",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "cursorhint",
							"sid": 386468997623036,
							"parameters": {
								"visibility": "invisible"
							}
						},
						{
							"id": "set-text",
							"objectClass": "cursorhint",
							"sid": 813740693989481,
							"parameters": {
								"text": "\"\""
							}
						},
						{
							"id": "set-width",
							"objectClass": "cursorhint",
							"sid": 363405240692253,
							"parameters": {
								"width": "250"
							}
						}
					],
					"sid": 930763428763747
				},
				{
					"functionName": "cursor_create_dialogname_sprfont",
					"functionDescription": "",
					"functionCategory": "#cursor",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 188338528256847,
							"parameters": {
								"object-to-create": "cursorhint",
								"layer": "\"cursor\"",
								"x": "Mouse.X",
								"y": "Mouse.Y",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-text",
							"objectClass": "cursorhint",
							"sid": 671883394710477,
							"parameters": {
								"text": "\"\""
							}
						}
					],
					"sid": 742383012945809
				}
			],
			"sid": 752550322888207
		}
	],
	"sid": 400007139696275
}